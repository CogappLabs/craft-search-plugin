{# Sprig component template for cogapp\searchindex\sprig\components\TestConnection. #}

<button sprig type="button" class="btn" id="test-connection-btn"
    s-val:run="1"
    s-include="#engineType, #engine-config, #mode, #handle, #si-readonly-vals"
    s-indicator="#test-connection-loading"
>{{ "actions.testConnection"|t('search-index') }}</button>
<span class="spinner htmx-indicator ml-s" id="test-connection-loading" aria-hidden="true"></span>
<span class="light htmx-indicator ml-s">{{ 'states.testing'|t('search-index') }}</span>

{% if run and result %}
    {% if result.success %}
        <span class="ml-s success">{{ result.message }}</span>
    {% else %}
        <span class="ml-s error">{{ result.message }}</span>
    {% endif %}
{% endif %}
