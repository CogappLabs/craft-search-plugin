(()=>{const i=document.getElementById("field-mappings-container");if(!i)return;const n=document.getElementById("si-field-mappings");if(n){const o=n.querySelectorAll("select.si-role-input");o.forEach(a=>{a.addEventListener("change",()=>{const e=a.value;e&&o.forEach(t=>{t!==a&&t.value===e&&(t.value="",c(t))}),c(a)})})}function c(o){const a=o.closest("tr");if(!a)return;const e=a.querySelector(".si-role-chip");e&&(e.dataset.role=o.value,e.textContent=o.value,o.value?e.setAttribute("aria-label",`Role: ${o.value}`):e.removeAttribute("aria-label"))}const r=i.dataset.tCopied||"Copied to clipboard.",l=i.dataset.tCopyFailed||"Failed to copy to clipboard.";document.addEventListener("click",o=>{const a=o.target.closest(".js-copy-markdown");if(!a)return;const e=a.dataset.markdown;e&&navigator.clipboard.writeText(e).then(()=>{Craft.cp.displayNotice(r)},()=>{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();const d=document.execCommand("copy");document.body.removeChild(t),d?Craft.cp.displayNotice(r):Craft.cp.displayError(l)})})})();
