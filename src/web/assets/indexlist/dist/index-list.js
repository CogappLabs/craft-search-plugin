document.querySelectorAll(".menu [data-action]").forEach(n=>{n.addEventListener("click",function(i){i.preventDefault();const e=this.dataset.action,t=this.dataset.id;!e||!t||e==="delete"&&!confirm("Are you sure you want to delete this index?")||e==="flush"&&!confirm("Are you sure you want to flush all documents from this index?")||Craft.sendActionRequest("POST",`search-index/indexes/${e}`,{data:{id:t}}).then(()=>{e==="delete"?location.reload():Craft.cp.displayNotice(e==="sync"?"Sync jobs queued.":"Index flushed.")}).catch(()=>{Craft.cp.displayError("Action failed.")})})});
