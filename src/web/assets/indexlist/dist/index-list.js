document.querySelectorAll(".menu [data-action]").forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const e=this.dataset.action,i=this.dataset.id;e==="delete"&&!confirm("Are you sure you want to delete this index?")||e==="flush"&&!confirm("Are you sure you want to flush all documents from this index?")||Craft.sendActionRequest("POST",`search-index/indexes/${e}`,{data:{id:i}}).then(()=>{e==="delete"?location.reload():Craft.cp.displayNotice(e==="sync"?"Sync jobs queued.":"Index flushed.")}).catch(()=>{Craft.cp.displayError("Action failed.")})})});
