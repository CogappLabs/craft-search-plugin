(()=>{const s=document.getElementById("index-structure-container");if(!s)return;const a=s.dataset.indexId;if(!a)return;const t=document.getElementById("structure-output"),e=document.getElementById("refresh-structure-btn");if(!t||!e)return;const r=s.dataset.tFailed||"Failed to retrieve schema.",i=s.dataset.tRequestFailed||"Request failed.";function n(){e.classList.add("loading"),Craft.sendActionRequest("POST","search-index/indexes/structure",{data:{id:a}}).then(d=>{e.classList.remove("loading"),d.data.success?(t.classList.remove("si-code-error"),t.textContent=JSON.stringify(d.data.schema,null,2)):(t.classList.add("si-code-error"),t.textContent=d.data.message||r)}).catch(()=>{e.classList.remove("loading"),t.classList.add("si-code-error"),t.textContent=i})}e.addEventListener("click",n),n()})();
