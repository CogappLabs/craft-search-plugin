(()=>{const s=document.getElementById("index-structure-container");if(!s)return;const d=s.dataset.indexId;if(!d)return;const e=document.getElementById("structure-output"),t=document.getElementById("refresh-structure-btn");if(!e||!t)return;function a(){t.classList.add("loading"),Craft.sendActionRequest("POST","search-index/indexes/structure",{data:{id:d}}).then(n=>{t.classList.remove("loading"),n.data.success?e.textContent=JSON.stringify(n.data.schema,null,2):e.textContent=n.data.message||"Failed to retrieve schema."}).catch(()=>{t.classList.remove("loading"),e.textContent="Request failed."})}t.addEventListener("click",a),a()})();
